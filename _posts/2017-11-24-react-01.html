--- 
title: React： Render,props,state,React.addons
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="{{site.baseurl}}/js/react/react.js"></script>
    <script src="{{site.baseurl}}/js/react/react-with-addons.js"></script>
    <script src="{{site.baseurl}}/js/react/react-dom.js"></script>
    <script src="{{site.baseurl}}/js/react/browser.min.js"></script>
    <title>react</title>
</head>

<body>
    <div id="demo"></div>
    <!-- 1 -->
<!-- <script type="text/babel">
    ReactDOM.render(
        <h1>欢迎使用React</h1>, 
        document.querySelector("#demo"), 
        function(){ console.log("页面渲染完成...."); } 
    )
</script> -->
<!-- 2 -->
<!-- <script type="text/babel">
    const FirstComonent = React.createClass({ 
        render(){ 
            return(
                // 只能一个标签
                //但标签必须闭合标签
                <div>
                    <h1>{this.props.title}</h1>
                    <input type="text" />
                    <input type="button" value={this.props.sendName} />
                </div>
            ) 
        }
    }); 
    
    const title = "欢迎使用React"; 
    const sendName = "提交"; 
    const obj = { title, sendName }
    ReactDOM.render(
        <FirstComonent title={obj.title} sendName={obj.sendName} />,
        document.querySelector("#demo"),
        function(){
            console.log("页面渲染完成...");
        }
    )
</script> -->
<!-- 3 -->
<!-- <script type="text/babel">
    const FirstComonent = React.createClass({ 
        render(){ 
            return( // 只能一个标签 //但标签必须闭合标签
                <div>
                    <h1>{this.props.title}</h1>
                    <input type="text" />
                    <input type="button" value={this.props.sendName} />
                </div>
            ) 
        } 
    });
    const title = "欢迎使用React"; 
    const sendName = "提交"; 
    const obj = { title, sendName } 
    ReactDOM.render(
        <FirstComonent {...obj} />, 
        document.querySelector("#demo"), 
        function(){ console.log("页面渲染完成...");}
    )
</script> -->
<!-- 4 -->
<!-- <script type="text/babel">
    const ItemComponent = React.createClass({
        render(){
            return(
                <li></li>
            )
        }
    });


    const ListComponent = React.createClass({
        render(){
            return(
                <ul>
                    <li>1</li>
                    {
                        this.props.listArr.map((item,index)=> <li key={index}>{item}</li>)
                    }
                </ul>
            )
        }
    });

    const FirstComonent = React.createClass({
        mixins:[React.addons.LinkedStateMixin],
        getInitialState(){
            //初始化状态值
            return{
                mes:this.props.value
            }
        },
        render(){
            //valueLink => 双向数据绑定
            //state状态更新 => 模型更新
            //value 使用props不能修改
            return(
                <div>
                    <h1>{this.props.title}</h1>
                    <input type="text" valueLink={this.linkState('mes')} />
                    <input type="button" value={this.props.sendName} />
                    <p>{this.state.mes}</p>
                    <ListComponent listArr={this.props.listArr} />
                </div>
            )
        }
    });

    const obj = {
        title : "欢迎使用React",
        sendName : "提交",
        value : "请输入留言",
        listArr : [1,2,34,54,,56,76,7,8]
    }

    ReactDOM.render(
        <FirstComonent {...obj}/>,
        document.querySelector("#demo"),
        function(){
            console.log("页面渲染完成");
        }
    )
</script> -->
<!-- 5 -->
<!-- <script type="text/babel">
    const ItemComponent = React.createClass({
        render(){
            return(
                <li>{this.props.item}</li>
            )
        }
    });

    const ListComponent = React.createClass({
        render(){
            return(
                <ul>
                    {
                        this.props.listArr.map((item,index) => {
                            <ItemComponent key={index} item={item} />
                        })
                    }
                </ul>
            )
        }
    });

    const FirstComponent = React.createClass({
        mixins:[React.addons.LinkedStateMixin],
        getInitialState(){
            return{
                mes:this.props.value
            }
        },
        render(){
            return(
                <div>
                    <h1>{this.props.title}</h1>
                    <input type="text" valueLink={this.linkState("mes")} />
                    <input type="button" value={this.props.sendName} />
                    <p>{this.state.mes}</p>
                    <ListComponent listArr={this.props.listArr}/>
                </div>
            )
        }
    });

    const obj = {
        title:"欢迎使用React",
        sendName : "提交",
        value : "请输入留言",
        listArr : [1,23,3,5,65,7,87,8,9]
    }

    ReactDOM.render(
        <FirstComponent {...obj} />,
        document.getElementById("demo"),
        function(){
            console.log("页面渲染完成");
        }
    );
</script> -->
<!-- 6 -->
<script type="text/babel">
    {
        {/* 条目组件 */}
        const ItemComponent = React.createClass({
            render(){
                return(
                    <li>{this.props.item}</li>
                )
            }
        });
    
        {/* 列表容器组件 */}
        const ListComponent = React.createClass({
            render(){
                return(
                    <ul>
                        {
                            this.props.listArr.map((item,index) => <ItemComponent key={index} item={item} />)
                        }
                    </ul>
                )
            }
        });
    
        const FirstComponent = React.createClass({
            mixins:[React.addons.LinkedStateMixin],
            getInitialState(){
                return {
                    mes:this.props.value,
                    listArr:this.props.listArr
                }
            },
            render(){
                {/* 事件必须使用驼峰写法
                标签必须闭合
                ref用于标记对象
                 */}
                return (
                    <div>
                        <h1>welcome use React</h1>
                        <input type="text" ref="text_input" valueLink={this.linkState("mes")} />
                        <input type="button" onClick={this.addItemHandle} value={this.props.sendName} />
                        <p>{this.state.mes}</p>
                        <ListComponent listArr={this.state.listArr} />
                    </div>
                )
            },
            addItemHandle(){
                const value = this.refs.text_input.value;
                const newArr = this.state.listArr.concat([value]);
                this.setState({listArr:newArr});
            }
        });
    
        const obj = {
            title : "welcome user React",
            sendName : "submit",
            value : "write a message",
            listArr : [12,23,4,5,6,,76,7,9]
        }
    
        ReactDOM.render(
            <FirstComponent {...obj}/>,
            document.getElementById("demo"),
            function(){
                console.log("render completed");
            }
        )
    }
</script>
</body>

</html>