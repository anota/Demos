--- title: ES6：let、const、结构赋值---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    "user strict"
    /*
        let ：
        1、不允许重复声明
        2、没有预解析
        3、块级作用域

        一对{}包括的区域称为代码块
        块级作用域指一个变量或者函数只在该区域才起作用。

        从快的开始到声明这段的区域 暂存死区
    */
    // console.log(a);
    // var a = 1;
    let b = 2;
    console.log(b);
    // let b = 3;
    {
        let a = 1;
    }
    // console.log(a);

    for (var i = 0; i < 10; i++) {
        setTimeout(function() {
            console.log(i);
        })
    }

    for (var i = 0; i < 10; i++) {
        (function(i) {
            setTimeout(function() {
                console.log(i);
            })
        })(i)
    }

    for (let i = 0; i < 10; i++) {
        setTimeout(function() {
            console.log(i);
        })
    }

    /*
        const
        1、定义之后不变为常量
        2、常量值不能修改，如果常量定义为对象，那么对象的属性可以修改
    */
    // const a = 1;
    // a = 2;
    const a = {
        name: "anota"
    }
    a.name = "fuck";
    console.log(a.name);

    /*
        结构赋值：
        ES6允许按照一定的模式，从数组和对象中提取值，对变量进行赋值，这被称为解构(Destructuring)。

        数组的结构赋值：
            按照对应的顺序结构。
    */
    var arr = [1, [3, 5]];
    var [d, [e, c]] = arr;
    console.log(d, e, c);

    var obj = {
        foo() {
            console.log("shit");
        },
        o: {},
        arr: [],
        str: "abc"
    }
    var {
        foo,
        arr,
        str,
        o
    } = obj;
    console.log(foo, arr, str, o);

    // 结构赋值应用
    var x = 1;
    var y = 2;
    var [x, y] = [y, x];
    console.log(x, y);
</script>


</html>